{
  "name": "index-and-search",
  "description": "",
  "default": true,
  "schedule": [
    {%- set p_data_size = (data_size | default([10, 100, 500, 1000, 5000, 10000, 50000, 100000, 500000, 1000000]))%}
    {%- for i in range(p_data_size|length) %}
    {%- if i != 0 -%},{%- endif -%}
    {
      "operation": "delete-index-{{p_data_size[i]}}"
    },
    {
      "operation": "create-index-{{p_data_size[i]}}"
    },
    {
      "operation": "check-cluster-health-{{p_data_size[i]}}"
    },
    {
      "operation": "index-docs-{{p_data_size[i]}}"
    },
    {
      "operation": "knn-search-10-100-{{p_data_size[i]}}"
    },
    {
      "operation": "force-merge-{{p_data_size[i]}}"
    },
    {
      "operation": "refresh-after-force-merge-{{p_data_size[i]}}"
    },
    {
      "operation": "wait-until-merges-finish-{{p_data_size[i]}}"
    },
    {
      "operation": "knn-search-10-100-after-merge-{{p_data_size[i]}}"
    }
    {%- endfor %}
  ]
}